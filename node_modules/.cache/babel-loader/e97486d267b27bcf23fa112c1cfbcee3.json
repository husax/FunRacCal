{"ast":null,"code":"var _jsxFileName = \"D:\\\\repos\\\\calcvisual\\\\calcvisual-react-frontend\\\\src\\\\jsxboard-react.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport JXG from 'jsxgraph';\nimport '../node_modules/jsxgraph/distrib/jsxgraph.css';\nimport _ from 'lodash';\nexport default class JXGBoard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      _id: _.uniqueId('caja'),\n      board: null,\n      boardAttributes: props.boardAttributes,\n      logic: props.logic,\n      param: props.param,\n      style: props.style\n    };\n  }\n\n  componentDidMount() {\n    let board = JXG.JSXGraph.initBoard(this.state._id, this.props.boardAttribs);\n\n    if (this.props.jessieCode) {\n      board.jc.parse(this.props.logic);\n    } else {\n      this.props.logic(board, this.props.param);\n    }\n\n    this.setState({\n      board: board\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.param !== prevProps.param) {\n      this.props.logic(this.state.board, this.props.param);\n    }\n\n    if (this.props.boardAttribs !== prevProps.boardAttribs) {\n      this.state.board.setBoundingBox([-10, 100, 10, -100]);\n    }\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/style-prop-object\n      React.createElement(\"div\", {\n        id: this.state._id,\n        className: \"jsxbox\",\n        style: this.props.style,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      })\n    );\n  }\n\n}\nJXGBoard.propTypes = {\n  style: PropTypes.object,\n  className: PropTypes.string,\n  logic: PropTypes.oneOfType([PropTypes.func, PropTypes.string]).isRequired,\n  param: PropTypes.object,\n  boardAttributes: PropTypes.object,\n  jessieCode: PropTypes.bool\n};","map":{"version":3,"sources":["D:/repos/calcvisual/calcvisual-react-frontend/src/jsxboard-react.js"],"names":["React","PropTypes","JXG","_","JXGBoard","Component","constructor","props","state","_id","uniqueId","board","boardAttributes","logic","param","style","componentDidMount","JSXGraph","initBoard","boardAttribs","jessieCode","jc","parse","setState","componentDidUpdate","prevProps","setBoundingBox","render","propTypes","object","className","string","oneOfType","func","isRequired","bool"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAO,+CAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAgB,MAAMC,QAAN,SAAuBJ,KAAK,CAACK,SAA7B,CAAuC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AACVC,MAAAA,GAAG,EAAEN,CAAC,CAACO,QAAF,CAAW,MAAX,CADK;AAEVC,MAAAA,KAAK,EAAE,IAFG;AAGVC,MAAAA,eAAe,EAAEL,KAAK,CAACK,eAHb;AAIVC,MAAAA,KAAK,EAAEN,KAAK,CAACM,KAJH;AAKVC,MAAAA,KAAK,EAAEP,KAAK,CAACO,KALH;AAMVC,MAAAA,KAAK,EAAER,KAAK,CAACQ;AANH,KAAZ;AASD;;AACDC,EAAAA,iBAAiB,GAAI;AACnB,QAAIL,KAAK,GAAET,GAAG,CAACe,QAAJ,CAAaC,SAAb,CAAuB,KAAKV,KAAL,CAAWC,GAAlC,EAAuC,KAAKF,KAAL,CAAWY,YAAlD,CAAX;;AACA,QAAI,KAAKZ,KAAL,CAAWa,UAAf,EAA2B;AACzBT,MAAAA,KAAK,CAACU,EAAN,CAASC,KAAT,CAAe,KAAKf,KAAL,CAAWM,KAA1B;AACD,KAFD,MAEO;AACL,WAAKN,KAAL,CAAWM,KAAX,CAAiBF,KAAjB,EAAwB,KAAKJ,KAAL,CAAWO,KAAnC;AACD;;AACD,SAAKS,QAAL,CAAc;AACZZ,MAAAA,KAAK,EAAEA;AADK,KAAd;AAGD;;AAEDa,EAAAA,kBAAkB,CAAEC,SAAF,EAAa;AAC7B,QAAI,KAAKlB,KAAL,CAAWO,KAAX,KAAqBW,SAAS,CAACX,KAAnC,EAA2C;AACzC,WAAKP,KAAL,CAAWM,KAAX,CAAiB,KAAKL,KAAL,CAAWG,KAA5B,EAAmC,KAAKJ,KAAL,CAAWO,KAA9C;AACD;;AACD,QAAI,KAAKP,KAAL,CAAWY,YAAX,KAA4BM,SAAS,CAACN,YAA1C,EAAyD;AACvD,WAAKX,KAAL,CAAWG,KAAX,CAAiBe,cAAjB,CAAgC,CAAC,CAAC,EAAF,EAAK,GAAL,EAAS,EAAT,EAAY,CAAC,GAAb,CAAhC;AACD;AACF;;AACDC,EAAAA,MAAM,GAAI;AACR;AAAA;AACE;AACA;AAAK,QAAA,EAAE,EAAE,KAAKnB,KAAL,CAAWC,GAApB;AAAyB,QAAA,SAAS,EAAC,QAAnC;AAA4C,QAAA,KAAK,EAAE,KAAKF,KAAL,CAAWQ,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAID;;AAtCoD;AAyCvDX,QAAQ,CAACwB,SAAT,GAAqB;AACnBb,EAAAA,KAAK,EAAEd,SAAS,CAAC4B,MADE;AAEnBC,EAAAA,SAAS,EAAE7B,SAAS,CAAC8B,MAFF;AAGnBlB,EAAAA,KAAK,EAAEZ,SAAS,CAAC+B,SAAV,CAAoB,CAAC/B,SAAS,CAACgC,IAAX,EAAiBhC,SAAS,CAAC8B,MAA3B,CAApB,EAAwDG,UAH5C;AAInBpB,EAAAA,KAAK,EAAEb,SAAS,CAAC4B,MAJE;AAKnBjB,EAAAA,eAAe,EAAEX,SAAS,CAAC4B,MALR;AAMnBT,EAAAA,UAAU,EAAEnB,SAAS,CAACkC;AANH,CAArB","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport JXG from 'jsxgraph'\r\nimport '../node_modules/jsxgraph/distrib/jsxgraph.css';\r\nimport _ from 'lodash'\r\n\r\nexport  default class JXGBoard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state= {\r\n      _id: _.uniqueId('caja'),\r\n      board: null,\r\n      boardAttributes: props.boardAttributes,\r\n      logic: props.logic,\r\n      param: props.param,\r\n      style: props.style,\r\n    }\r\n\r\n  }\r\n  componentDidMount () {\r\n    let board= JXG.JSXGraph.initBoard(this.state._id, this.props.boardAttribs);\r\n    if (this.props.jessieCode) {\r\n      board.jc.parse(this.props.logic);\r\n    } else {\r\n      this.props.logic(board, this.props.param);\r\n    }\r\n    this.setState({\r\n      board: board\r\n    })\r\n  }\r\n\r\n  componentDidUpdate (prevProps) {\r\n    if (this.props.param !== prevProps.param ) {\r\n      this.props.logic(this.state.board, this.props.param);\r\n    }\r\n    if (this.props.boardAttribs !== prevProps.boardAttribs ) {\r\n      this.state.board.setBoundingBox([-10,100,10,-100]);\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      // eslint-disable-next-line react/style-prop-object\r\n      <div id={this.state._id} className='jsxbox' style={this.props.style}></div>\r\n    )\r\n  }\r\n}\r\n\r\nJXGBoard.propTypes = {\r\n  style: PropTypes.object,\r\n  className: PropTypes.string,\r\n  logic: PropTypes.oneOfType([PropTypes.func, PropTypes.string]).isRequired,\r\n  param: PropTypes.object,\r\n  boardAttributes: PropTypes.object,\r\n  jessieCode: PropTypes.bool\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}